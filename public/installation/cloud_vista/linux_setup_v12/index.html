<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Linux Setup for v12">

<title>Linux Setup for v12 | NetGain Documentation Hub</title>

<link rel="icon" href="logo.png" type="image/x-icon">
<link rel="stylesheet" href="/main.min.css" media="screen">
<link rel="stylesheet" href="/custom.css" media="screen">


<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,400;0,500;0,700;0,900;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">

<style>
  .gdoc-header { background: #0a539a; border-color: #404040; }
</style>

</head>

<body>
    <svg style="position: absolute; width: 0; height: 0; overflow: hidden;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><symbol viewBox="0 0 24 24" id="arrow_back" xmlns="http://www.w3.org/2000/svg"><path d="M20.016 11.016v1.969H7.828l5.578 5.625L12 20.016 3.984 12 12 3.984l1.406 1.406-5.578 5.625h12.188z"/></symbol><symbol viewBox="0 0 24 24" id="arrow_left_alt" xmlns="http://www.w3.org/2000/svg"><path d="M7.969 11.016v-3L3.985 12l3.984 3.984v-3h12.047v-1.969H7.969z"/></symbol><symbol viewBox="0 0 24 24" id="arrow_right_alt" xmlns="http://www.w3.org/2000/svg"><path d="M16.031 11.016v-3L20.015 12l-3.984 3.984v-3H3.984v-1.969h12.047z"/></symbol><symbol viewBox="0 0 24 24" id="bookmark" xmlns="http://www.w3.org/2000/svg"><path d="M15 5.016q.797 0 1.406.586t.609 1.383v16.031l-7.031-3-6.984 3V6.985q0-.797.609-1.383t1.406-.586h9.984zM18.984 18V5.016q0-.797-.586-1.406t-1.383-.609H6.984q0-.797.609-1.406T8.999.986h9.984q.797 0 1.406.609t.609 1.406v15.984z"/></symbol><symbol viewBox="0 0 16 28" id="code" xmlns="http://www.w3.org/2000/svg"><path d="M4.5 23a1.5 1.5 0 10-3.001.001A1.5 1.5 0 004.5 23zm0-18a1.5 1.5 0 10-3.001.001A1.5 1.5 0 004.5 5zm10 2a1.5 1.5 0 10-3.001.001A1.5 1.5 0 0014.5 7zM16 7a3.002 3.002 0 01-1.5 2.594c-.047 5.641-4.047 6.891-6.703 7.734C5.313 18.109 4.5 18.484 4.5 20v.406A3 3 0 016 23a3.001 3.001 0 01-6 0c0-1.109.609-2.078 1.5-2.594V7.594A3 3 0 010 5a3.001 3.001 0 016 0 3.002 3.002 0 01-1.5 2.594v7.766c.797-.391 1.641-.656 2.406-.891 2.906-.922 4.562-1.609 4.594-4.875A3 3 0 0110 7a3.001 3.001 0 016 0z"/></symbol><symbol viewBox="0 0 24 24" id="date" xmlns="http://www.w3.org/2000/svg"><path d="M18.984 20.016V9H5.015v11.016h13.969zm0-16.032q.797 0 1.406.609t.609 1.406v14.016q0 .797-.609 1.383t-1.406.586H5.015q-.844 0-1.43-.563t-.586-1.406V5.999q0-.797.586-1.406t1.43-.609h.984V2.015h2.016v1.969h7.969V2.015H18v1.969h.984zm-1.968 7.032v1.969H15v-1.969h2.016zm-4.032 0v1.969h-1.969v-1.969h1.969zm-3.984 0v1.969H6.984v-1.969H9z"/></symbol><symbol viewBox="0 0 24 24" id="download" xmlns="http://www.w3.org/2000/svg"><path d="M5.016 18h13.969v2.016H5.016V18zm13.968-9L12 15.984 5.016 9H9V3h6v6h3.984z"/></symbol><symbol viewBox="0 0 24 24" id="email" xmlns="http://www.w3.org/2000/svg"><path d="M20.016 8.016V6L12 11.016 3.984 6v2.016L12 12.985zm0-4.032q.797 0 1.383.609t.586 1.406v12q0 .797-.586 1.406t-1.383.609H3.985q-.797 0-1.383-.609t-.586-1.406v-12q0-.797.586-1.406t1.383-.609h16.031z"/></symbol><symbol viewBox="0 0 24 28" id="github" xmlns="http://www.w3.org/2000/svg"><path d="M12 2c6.625 0 12 5.375 12 12 0 5.297-3.437 9.797-8.203 11.391-.609.109-.828-.266-.828-.578 0-.391.016-1.687.016-3.297 0-1.125-.375-1.844-.812-2.219 2.672-.297 5.484-1.313 5.484-5.922 0-1.313-.469-2.375-1.234-3.219.125-.313.531-1.531-.125-3.187-1-.313-3.297 1.234-3.297 1.234a11.28 11.28 0 00-6 0S6.704 6.656 5.704 6.969c-.656 1.656-.25 2.875-.125 3.187-.766.844-1.234 1.906-1.234 3.219 0 4.594 2.797 5.625 5.469 5.922-.344.313-.656.844-.766 1.609-.688.313-2.438.844-3.484-1-.656-1.141-1.844-1.234-1.844-1.234-1.172-.016-.078.734-.078.734.781.359 1.328 1.75 1.328 1.75.703 2.141 4.047 1.422 4.047 1.422 0 1 .016 1.937.016 2.234 0 .313-.219.688-.828.578C3.439 23.796.002 19.296.002 13.999c0-6.625 5.375-12 12-12zM4.547 19.234c.031-.063-.016-.141-.109-.187-.094-.031-.172-.016-.203.031-.031.063.016.141.109.187.078.047.172.031.203-.031zm.484.532c.063-.047.047-.156-.031-.25-.078-.078-.187-.109-.25-.047-.063.047-.047.156.031.25.078.078.187.109.25.047zm.469.703c.078-.063.078-.187 0-.297-.063-.109-.187-.156-.266-.094-.078.047-.078.172 0 .281s.203.156.266.109zm.656.656c.063-.063.031-.203-.063-.297-.109-.109-.25-.125-.313-.047-.078.063-.047.203.063.297.109.109.25.125.313.047zm.891.391c.031-.094-.063-.203-.203-.25-.125-.031-.266.016-.297.109s.063.203.203.234c.125.047.266 0 .297-.094zm.984.078c0-.109-.125-.187-.266-.172-.141 0-.25.078-.25.172 0 .109.109.187.266.172.141 0 .25-.078.25-.172zm.906-.156c-.016-.094-.141-.156-.281-.141-.141.031-.234.125-.219.234.016.094.141.156.281.125s.234-.125.219-.219z"/></symbol><symbol viewBox="0 0 28 28" id="heart" xmlns="http://www.w3.org/2000/svg"><path d="M14 26c-.25 0-.5-.094-.688-.281l-9.75-9.406c-.125-.109-3.563-3.25-3.563-7C-.001 4.735 2.796 2 7.468 2c2.734 0 5.297 2.156 6.531 3.375C15.233 4.156 17.796 2 20.53 2c4.672 0 7.469 2.734 7.469 7.313 0 3.75-3.437 6.891-3.578 7.031l-9.734 9.375a.972.972 0 01-.688.281z"/></symbol><symbol viewBox="0 0 24 24" id="link" xmlns="http://www.w3.org/2000/svg"><path d="M17.016 6.984q2.063 0 3.516 1.477T21.985 12t-1.453 3.539-3.516 1.477h-4.031v-1.922h4.031q1.266 0 2.18-.914T20.11 12t-.914-2.18-2.18-.914h-4.031V6.984h4.031zm-9 6v-1.969h7.969v1.969H8.016zM3.891 12q0 1.266.914 2.18t2.18.914h4.031v1.922H6.985q-2.063 0-3.516-1.477T2.016 12t1.453-3.539 3.516-1.477h4.031v1.922H6.985q-1.266 0-2.18.914T3.891 12z"/></symbol><symbol viewBox="0 0 24 24" id="menu" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2.016H3V6zm0 6.984v-1.969h18v1.969H3zM3 18v-2.016h18V18H3z"/></symbol><symbol viewBox="0 0 24 24" id="notification" xmlns="http://www.w3.org/2000/svg"><path d="M18 15.984L20.016 18v.984H3.985V18l2.016-2.016v-4.969q0-2.344 1.195-4.078t3.305-2.25v-.703q0-.609.422-1.055t1.078-.445 1.078.445.422 1.055v.703q2.109.516 3.305 2.25t1.195 4.078v4.969zm-6 6q-.844 0-1.43-.563t-.586-1.406h4.031q0 .797-.609 1.383T12 21.984z"/></symbol><symbol viewBox="0 0 24 24" id="path" xmlns="http://www.w3.org/2000/svg"><path d="M21.984 11.016H15v-3h-2.016v7.969H15v-3h6.984v8.016H15v-3h-3.984V8.017H9v3H2.016V3.001H9v3h6v-3h6.984v8.016z"/></symbol><symbol viewBox="0 0 24 24" id="person" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.016q2.531 0 5.273 1.102t2.742 2.883v2.016H3.984v-2.016q0-1.781 2.742-2.883t5.273-1.102zM12 12q-1.641 0-2.813-1.172T8.015 8.015t1.172-2.836T12 3.984t2.813 1.195 1.172 2.836-1.172 2.813T12 12z"/></symbol><symbol viewBox="0 0 24 24" id="search" xmlns="http://www.w3.org/2000/svg"><path d="M9.516 14.016q1.875 0 3.188-1.313t1.313-3.188-1.313-3.188-3.188-1.313-3.188 1.313-1.313 3.188 1.313 3.188 3.188 1.313zm6 0l4.969 4.969-1.5 1.5-4.969-4.969v-.797l-.281-.281q-1.781 1.547-4.219 1.547-2.719 0-4.617-1.875T3.001 9.516t1.898-4.617 4.617-1.898 4.594 1.898 1.875 4.617q0 .984-.469 2.227t-1.078 1.992l.281.281h.797z"/></symbol><symbol viewBox="0 0 20 28" id="shield" xmlns="http://www.w3.org/2000/svg"><path d="M17 15V5h-7v17.766c.797-.422 2.078-1.156 3.328-2.141C15 19.312 17 17.266 17 15zm3-12v12c0 6.578-9.203 10.734-9.594 10.906-.125.063-.266.094-.406.094s-.281-.031-.406-.094C9.203 25.734 0 21.578 0 15V3c0-.547.453-1 1-1h18c.547 0 1 .453 1 1z"/></symbol><symbol viewBox="0 0 32 32" id="tags" xmlns="http://www.w3.org/2000/svg"><path d="M5 5c-1.104 0-2 .887-2 2v8l13.381 13.381c.716.716 1.838.78 2.62.191L5 14.5V5.007 5zm11-1l13.381 13.381c.783.783.787 2.051.008 2.831l-7.177 7.177a2.003 2.003 0 01-2.831-.008L6 14V6c0-1.112.895-2 2-2h8zm-4.5 7a1.5 1.5 0 10-.001-3.001A1.5 1.5 0 0011.5 11z"/></symbol><symbol viewBox="0 0 35 32" id="telescope" xmlns="http://www.w3.org/2000/svg"><path d="M27.464 2.314a.501.501 0 00-.698-.257L14.86 8.339a.499.499 0 00-.233.621l.245.641-6.873 3.769a.5.5 0 00-.222.63l.228.549-7.299 3.488a.5.5 0 00-.246.643l1.498 3.61a.5.5 0 00.629.28l7.625-2.701.228.549a.5.5 0 00.601.289l7.276-2.097.218.569a.497.497 0 00.612.299l13-4a.498.498 0 00.317-.663l-5-12.501zM2.7 21.469l-1.134-2.734 6.823-3.261 1.439 3.47L2.7 21.469zm8.491-1.846l-.238-.574-1.843-4.445-.238-.573 6.336-3.475 2.374 6.134.375.981-6.766 1.952zm8.109-1.238l-.203-.531c-.003-.011-.001-.024-.006-.035l-.618-1.597-2.754-7.206 11.023-5.815 4.592 11.48L19.3 18.385zM28.964.314a.5.5 0 00-.929.371l6 15a.502.502 0 00.651.279.501.501 0 00.279-.65l-6.001-15zM18 21h-3c-1.14 0-2 .86-2 2v1.315l-5.879 6.859a.5.5 0 10.758.651L13.73 25H16v6.5a.5.5 0 001 0V25h2.27l5.85 6.825a.497.497 0 00.705.054.5.5 0 00.054-.705L20 24.315v-1.24C20 21.912 19.122 21 18 21zm1 3h-5v-1c0-.589.411-1 1-1h3c.57 0 1 .462 1 1.075V24z"/></symbol></svg>

    <div class="wrapper">
        <input type="checkbox" class="hidden" id="menu-control" />
        <header class="gdoc-header">
    <div class="container flex align-center justify-between">
        
        <label for="menu-control" class="gdoc-nav__control">
            <svg class="icon menu"><use xlink:href="#menu"></use></svg>
            <svg class="icon arrow-back"><use xlink:href="#arrow_back"></use></svg>
        </label>
        
        <a class="gdoc-header__link">
            <span class="gdoc-brand flex align-center">
                <img class="gdoc-brand__img" src="/logo.png" alt="NetGain Documentation Hub" style="width:144px;height:80px">
                NetGain Documentation Hub
            </span>
        </a>
    </div>
</header>


        <main class="container flex flex-even">
            <aside class="gdoc-nav">
                <nav>
    
    <div class="gdoc-search">
        <svg class="icon search"><use xlink:href="#search"></use></svg>
        <input type="text" id="gdoc-search-input" class="gdoc-search__input" placeholder="Search..."
            aria-label="Search" maxlength="64" />
        <div class="gdoc-search__spinner spinner hidden"></div>
        <ul id="gdoc-search-results" class="gdoc-search__list"></ul>
    </div>



    <section class="gdoc-nav--main">
        <h2>Navigation</h2>
        
            

    

    <ul class="gdoc-nav__list">
        
            
            
            <li>
            
                <span class="flex">Overview</span>
            

            
            
                
    

    <ul class="gdoc-nav__list">
        
            
            
            <li>
            
                <span class="flex">
                    <a href="/overview/architecture/" class="gdoc-nav__entry ">
                        Architecture
                    </a>
                </span>
            

            
            
            </li>
            
            
        
    </ul>

            
            </li>
            
            
        
            
            
            
        
            
            
            <li>
            
                <span class="flex">
                    <a href="/installation/" class="gdoc-nav__entry ">
                        Installation
                    </a>
                </span>
            

            
            
                
    

    <ul class="gdoc-nav__list">
        
            
            
            <li>
            
                <span class="flex">
                    <a href="/installation/cloud_vista/" class="gdoc-nav__entry ">
                        Cloud Vista
                    </a>
                </span>
            

            
            
                
    

    <ul class="gdoc-nav__list">
        
            
            
            
            
            
            
            
        
    </ul>

            
            </li>
            
            
        
            
            
            <li>
            
                <span class="flex">
                    <a href="/installation/emedge/" class="gdoc-nav__entry ">
                        Emedge
                    </a>
                </span>
            

            
            
                
    

    <ul class="gdoc-nav__list">
        
            
            
            
        
            
            
            
        
            
            
            
        
            
            
            
            
            
        
    </ul>

            
            </li>
            
            
        
    </ul>

            
            </li>
            
            
        
            
            
            <li>
            
                <span class="flex">Modules</span>
            

            
            
                
    

    <ul class="gdoc-nav__list">
        
            
            
            <li>
            
                <span class="flex">
                    <a href="/modules/home/" class="gdoc-nav__entry ">
                        Home
                    </a>
                </span>
            

            
            
                
    

    <ul class="gdoc-nav__list">
        
            
            
            
            
            
        
            
            
            
        
            
            
            
            
            
        
    </ul>

            
            </li>
            
            
        
            
            
            <li>
            
                <span class="flex">
                    <a href="/modules/metrics/" class="gdoc-nav__entry ">
                        Metrics
                    </a>
                </span>
            

            
            
                
    

    <ul class="gdoc-nav__list">
        
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
        
    </ul>

            
            </li>
            
            
        
            
            
            <li>
            
                <span class="flex">
                    <a href="/modules/netflow/" class="gdoc-nav__entry ">
                        NetFlow
                    </a>
                </span>
            

            
            
                
    

    <ul class="gdoc-nav__list">
        
            
            
            
            
            
            
            
            
            
        
    </ul>

            
            </li>
            
            
        
            
            
            <li>
            
                <span class="flex">
                    <a href="/modules/siem/" class="gdoc-nav__entry ">
                        SIEM
                    </a>
                </span>
            

            
            
                
    

    <ul class="gdoc-nav__list">
        
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
        
            
            
            
        
            
            
            
        
    </ul>

            
            </li>
            
            
        
            
            
            <li>
            
                <span class="flex">
                    <a href="/modules/apm/" class="gdoc-nav__entry ">
                        APM
                    </a>
                </span>
            

            
            
                
    

    <ul class="gdoc-nav__list">
        
            
            
            
            
            
            
            
            
            
        
    </ul>

            
            </li>
            
            
        
            
            
            <li>
            
                <span class="flex">
                    <a href="/modules/cmdb/" class="gdoc-nav__entry ">
                        CMDB
                    </a>
                </span>
            

            
            
                
    

    <ul class="gdoc-nav__list">
        
            
            
            
            
            
            
            
            
            
            
            
        
            
            
            
        
    </ul>

            
            </li>
            
            
        
            
            
            <li>
            
                <span class="flex">
                    <a href="/modules/aiops/" class="gdoc-nav__entry ">
                        AIOps
                    </a>
                </span>
            

            
            
                
    

    <ul class="gdoc-nav__list">
        
            
            
            
        
    </ul>

            
            </li>
            
            
        
            
            
            <li>
            
                <span class="flex">
                    <a href="/modules/alerts/" class="gdoc-nav__entry ">
                        Alerts
                    </a>
                </span>
            

            
            
                
    

    <ul class="gdoc-nav__list">
        
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
        
    </ul>

            
            </li>
            
            
        
            
            
            <li>
            
                <span class="flex">
                    <a href="/modules/dashboards_2.0/" class="gdoc-nav__entry ">
                        Dashboard 2.0
                    </a>
                </span>
            

            
            
                
    

    <ul class="gdoc-nav__list">
        
            
            
            
        
    </ul>

            
            </li>
            
            
        
    </ul>

            
            </li>
            
            
        
            
            
            <li>
            
                <span class="flex">Adminstrative</span>
            

            
            
                
    

    <ul class="gdoc-nav__list">
        
            
            
            <li>
            
                <span class="flex">
                    <a href="/administrative/admin/" class="gdoc-nav__entry ">
                        Admin
                    </a>
                </span>
            

            
            
                
    

    <ul class="gdoc-nav__list">
        
            
            
            
            
            
            
            
            
            
            
            
        
    </ul>

            
            </li>
            
            
            
            <li>
            
                <span class="flex">
                    <a href="/administrative/emedge_sites/" class="gdoc-nav__entry ">
                        Emedge Sites
                    </a>
                </span>
            

            
            
            </li>
            
            
            
            <li>
            
                <span class="flex">
                    <a href="/administrative/tools/" class="gdoc-nav__entry ">
                        Tools
                    </a>
                </span>
            

            
            
                
    

    <ul class="gdoc-nav__list">
        
            
            
            
            
            
        
    </ul>

            
            </li>
            
            
        
            
            
            
        
    </ul>

            
            </li>
            
            
            
            
            
            
            
            <li>
            
                <span class="flex">
                    <a href="/troubleshooting_guides/" class="gdoc-nav__entry ">
                        Troubleshooting Guide
                    </a>
                </span>
            

            
            
                
    

    <ul class="gdoc-nav__list">
        
            
            
            <li>
            
                <span class="flex">
                    <a href="/troubleshooting_guides/FAQ/" class="gdoc-nav__entry ">
                        Frequently Asked Questions
                    </a>
                </span>
            

            
            
                
    

    <ul class="gdoc-nav__list">
        
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
        
    </ul>

            
            </li>
            
            
        
    </ul>

            
            </li>
            
            
        
    </ul>





        
    </section>

    <section class="gdoc-nav--more">
        
    </section>
</nav>

            </aside>

            <div class="gdoc-page">
                
    


    






<div class="gdoc-page__header flex flex-wrap justify-between hidden-mobile" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
    <span>
        
            <span class="breadcrumb">
                <svg class="icon path"><use xlink:href="#path"></use></svg>
                
                
    
    
        
        
        
    
    
        
        
        
    
    
        
        
        
    
    
        <a href='/'>Home</a> / <a href='/installation/'>Installation</a> / <a href='/installation/cloud_vista/'>Cloud Vista</a> / Linux Setup for v12
    

    

    

    

            </span>
        
    </span>
    <span>
        
    </span>
</div>


    <article class="gdoc-markdown">
        <h1>Linux Setup for v12</h1>
        



    


<p><strong>Table of Contents</strong>



  <div class="gdoc-toc gdoc-toc__level--3"><nav id="TableOfContents">
  <ul>
    <li><a href="#requirement-and-additional-packages">Requirement and additional packages</a></li>
    <li><a href="#installation-of-elasticsearch">Installation of ElasticSearch</a>
      <ul>
        <li><a href="#step-1-install-and-configure-jvm">Step 1. Install and Configure JVM</a></li>
        <li><a href="#step-2-configure-elasticsearch">Step 2. Configure elasticsearch</a></li>
        <li><a href="#step-3-start-and-enable-elasticsearch-service-on-boot">Step 3. Start and enable elasticsearch service on boot</a></li>
      </ul>
    </li>
    <li><a href="#installation-of-netgain-em">Installation of NetGain EM</a>
      <ul>
        <li><a href="#1-download-v12-base-software">1. Download v12 Base software</a></li>
        <li><a href="#2-updated-java-and-tomcat">2. Updated Java and Tomcat</a></li>
        <li><a href="#3-disable-firewall">3. Disable firewall</a></li>
        <li><a href="#4-configure-rclocal-bold-fonts--change-it-accordingly-for-customer">4. Configure rc.local (bold fonts &gt; change it accordingly for customer)</a></li>
        <li><a href="#5-give-full-permission-for-rclocal">5. Give full permission for rc.local</a></li>
        <li><a href="#6-configure-vi-etcsysconfigi18n-for-english-language-during-bootup-process">6. Configure vi /etc/sysconfig/i18n for english language during bootup process</a></li>
        <li><a href="#7-change-netgain-application-configuration">7. Change NetGain application configuration</a></li>
        <li><a href="#8-setup-date-and-time">8. Setup Date and Time</a></li>
        <li><a href="#9-check-dns-record">9. Check DNS record</a></li>
        <li><a href="#10-add-em-process-check-to-cronjob">10. Add EM process check to cronjob</a></li>
        <li><a href="#11-run-export-ng_license_by_macaddr1">11. Run export NG_LICENSE_BY_MACADDR=1</a></li>
        <li><a href="#12-get-register-key">12. Get register key</a></li>
        <li><a href="#13-to-update-the-license">13. To update the license</a></li>
        <li><a href="#14-update-with-the-latest-patch">14. Update with the Latest patch</a></li>
        <li><a href="#15-export-java-path">15. Export JAVA path</a></li>
        <li><a href="#16-update-the-elasticsearch-password-in-config_customize-of-netgain">16. Update the Elasticsearch password in config_customize of NetGain</a></li>
        <li><a href="#17-start-netgain-em-process">17. Start NetGain EM process</a></li>
      </ul></nav><hr></div>

</p>
<h1 id="requirement-and-additional-packages">Requirement and additional packages</h1>
<ol>
<li>Recommended OS: Instal l Rocky Linux 9.2 x86_64</li>
<li>Install additional Packages
<br><code>yum install -y tar pinentry net-snmp net-snmp-utils net-tools telnet openssh openssh-clients ftp expect wget traceroute unzip zip vim openssl</code></li>
</ol>
<h1 id="installation-of-elasticsearch">Installation of ElasticSearch</h1>
<div class="gdoc-page__anchorwrap"><h2 id="step-1-install-and-configure-jvm">Step 1. Install and Configure JVM<a data-clipboard-text="http://localhost:1313/installation/cloud_vista/linux_setup_v12/#step-1-install-and-configure-jvm" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Step 1. Install and Configure JVM" href="#step-1-install-and-configure-jvm"><svg class="icon link"><use xlink:href="#link"></use></svg></a></h2></div>
<ul>
<li>
<p>Install Elasticsearch:</p>
<p><code>wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-8.11.4-x86_64.rpm --no-check-certificate</code></p>
<p><code>yum localinstall --disablerepo=* elasticsearch-8.11.4-x86_64.rpm</code></p>
<p><img src="/installation/cloud_vista/images/es-installation.png" alt="Screenshot"></p>
</li>
<li>
<p>Authentication is auto-enabled in new ElasticSearch v8.x.x and take note of the generated random password (underlined) during installation:</p>
<ul>
<li>
<p>Authentication and authorization are enabled.</p>
<p>TLS for the transport and HTTP layers is enabled and configured.</p>
<p><u>The generated password for the elastic built-in superuser is : t_uYH54WkAddVJ8qAK9s</u></p>
<p>If this node should join an existing cluster, you can reconfigure this with
&lsquo;/usr/share/elasticsearch/bin/elasticsearch-reconfigure-node &ndash;enrollment-token <token-here>&rsquo;
after creating an enrollment token on your existing cluster.</p>
<p>You can complete the following actions at any time:</p>
<p>Reset the password of the elastic built-in superuser with
<br>&rsquo;/usr/share/elasticsearch/bin/elasticsearch-reset-password -u elastic'.</p>
<p>Generate an enrollment token for Kibana instances with
<br>&rsquo;/usr/share/elasticsearch/bin/elasticsearch-create-enrollment-token -s kibana'.</p>
<p>Generate an enrollment token for Elasticsearch nodes with
<br>&rsquo;/usr/share/elasticsearch/bin/elasticsearch-create-enrollment-token -s node'.</p>
<hr>
<p>### NOT starting on installation, please execute the following statements to configure elasticsearch service to start automatically using systemd
<br>sudo systemctl daemon-reload
<br>sudo systemctl enable elasticsearch.service
<br>### You can start elasticsearch service by executing
<br>sudo systemctl start elasticsearch.service</p>
</li>
</ul>
</li>
<li>
<p>Edit the jvm.options to change the heap size:</p>
<p><code>vi /etc/elasticsearch/jvm.options</code></p>
<ul>
<li>
<p>Change below for min and max heap size, for below the physical RAM of the server is 3GB:</p>
</li>
<li>
<p>Please note that the heap size cannot exceed the 50% of total RAM you have in server.</p>
</li>
<li>
<p>if your server is 16GB, likely this min and max heap size can be set as 4GB</p>
<p>-Xms4g ## 1Gb is the minimum heap size</p>
<p>-Xmx4g ## 1Gb is the maximum heap size</p>
</li>
</ul>
</li>
</ul>
<div class="gdoc-page__anchorwrap"><h2 id="step-2-configure-elasticsearch">Step 2. Configure elasticsearch<a data-clipboard-text="http://localhost:1313/installation/cloud_vista/linux_setup_v12/#step-2-configure-elasticsearch" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Step 2. Configure elasticsearch" href="#step-2-configure-elasticsearch"><svg class="icon link"><use xlink:href="#link"></use></svg></a></h2></div>
<ul>
<li>
<p>Edit the configuration file of elasticsearch</p>
<p><code>vi /etc/elasticsearch/elasticsearch.yml</code></p>
</li>
<li>
<p>Input below parameter</p>
</li>
</ul>
  <pre><code>    <u><b>cluster.name: netgainelkdb</b></u> # this is to define a cluster name
    <u><b>node.name: netgainnode-1</b></u> #this is to define a node name
    <u><b>network.host: 127.0.0.1</b></u> #this is the IP address that the localhost or other server going to contact with elasticsearch.
    <u><b>discovery.type: single-node</b></u>

    # Enable security features
    xpack.security.enabled: true

    <u><b>xpack.security.enrollment.enabled: false</b></u>

    # Enable encryption for HTTP API client connections, such as Kibana, Logstash, and Agents
    xpack.security.http.ssl:
      <u><b>enabled: false</b></u>
      keystore.path: certs/http.p12

    # Enable encryption and mutual authentication between cluster nodes
    
    xpack.security.transport.ssl:
      <u><b>enabled: false</b></u>
      verification_mode: certificate
      keystore.path: certs/transport.p12
      truststore.path: certs/transport.p12
    # Create a new cluster with the current node only
    # Additional nodes can still join the cluster later
    <u><b>#cluster.initial_master_nodes: ["localhost"]</b></u>

    # Allow HTTP API connections from anywhere
    # Connections are encrypted and require user authentication
    http.host: 0.0.0.0

    # Allow other nodes to join the cluster from anywhere
    # Connections are encrypted and mutually authenticated
    #transport.host: 0.0.0.0
</code></pre>
<p>** <strong>change the details of the underlined bold using the above settings</strong></p>
<p><img src="/installation/cloud_vista/images/es-yml-1.png" alt="Screenshot"></p>
<p><img src="/installation/cloud_vista/images/es-yml-2.png" alt="Screenshot"></p>
<p><img src="/installation/cloud_vista/images/es-yml-3.png" alt="Screenshot"></p>
<div class="gdoc-page__anchorwrap"><h2 id="step-3-start-and-enable-elasticsearch-service-on-boot">Step 3. Start and enable elasticsearch service on boot<a data-clipboard-text="http://localhost:1313/installation/cloud_vista/linux_setup_v12/#step-3-start-and-enable-elasticsearch-service-on-boot" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Step 3. Start and enable elasticsearch service on boot" href="#step-3-start-and-enable-elasticsearch-service-on-boot"><svg class="icon link"><use xlink:href="#link"></use></svg></a></h2></div>
<ul>
<li>
<p>start and enable service on boot</p>
<p><code>systemctl enable --now elasticsearch.service</code></p>
</li>
<li>
<p>verify status</p>
<p><code>systemctl status elasticsearch.service -l</code></p>
<p><img src="/installation/cloud_vista/images/es-status.png" alt="Screenshot"></p>
</li>
<li>
<p>Verify security password</p>
<p><code>curl http://127.0.0.1:9200 -u elastic</code></p>
<p>whereas it will ask for the generated built-in password</p>
<p><img src="/installation/cloud_vista/images/es-health.png" alt="Screenshot"></p>
</li>
<li>
<p>Optional to manually change the ES password:</p>
<p><code>cd /usr/share/elasticsearch</code></p>
<p><code>./bin/elasticsearch-reset-password -u elastic -i</code></p>
</li>
</ul>
<h1 id="installation-of-netgain-em">Installation of NetGain EM</h1>
<div class="gdoc-page__anchorwrap"><h2 id="1-download-v12-base-software">1. Download v12 Base software<a data-clipboard-text="http://localhost:1313/installation/cloud_vista/linux_setup_v12/#1-download-v12-base-software" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 1. Download v12 Base software" href="#1-download-v12-base-software"><svg class="icon link"><use xlink:href="#link"></use></svg></a></h2></div>
<p>Download link: <a href="https://drive.google.com/file/d/16CX1TXhzT7kUhrjhfZyaMrKfmmKVdicX/view?usp=sharing">https://drive.google.com/file/d/16CX1TXhzT7kUhrjhfZyaMrKfmmKVdicX/view?usp=sharing</a></p>
<p>winscp to your appliance and copy the download base v12 software to root directory</p>
<p><code>tar -xzvf netgainBASE_v12.2.148.tar.gz --absolute-names</code></p>
<p>Note: please use above exact command, otherwise the license will have issues that causes process not able to start.</p>
<div class="gdoc-page__anchorwrap"><h2 id="2-updated-java-and-tomcat">2. Updated Java and Tomcat<a data-clipboard-text="http://localhost:1313/installation/cloud_vista/linux_setup_v12/#2-updated-java-and-tomcat" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 2. Updated Java and Tomcat" href="#2-updated-java-and-tomcat"><svg class="icon link"><use xlink:href="#link"></use></svg></a></h2></div>
<p><code>export PATH=/root/netgain/jre/bin:$PATH</code></p>
<pre tabindex="0"><code>Java version &#34;1.8.0_311&#34;
Java(TM) SE Runtime Environment (build 1.8.0_311-b11)
Java HotSpot(TM) 64-Bit Server VM (build 25.311-b11, mixed mode)

Tomcat version: v9.0.73
</code></pre><div class="gdoc-page__anchorwrap"><h2 id="3-disable-firewall">3. Disable firewall<a data-clipboard-text="http://localhost:1313/installation/cloud_vista/linux_setup_v12/#3-disable-firewall" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 3. Disable firewall" href="#3-disable-firewall"><svg class="icon link"><use xlink:href="#link"></use></svg></a></h2></div>
<p><code>service firewalld stop</code></p>
<div class="gdoc-page__anchorwrap"><h2 id="4-configure-rclocal-bold-fonts--change-it-accordingly-for-customer">4. Configure rc.local (bold fonts &gt; change it accordingly for customer)<a data-clipboard-text="http://localhost:1313/installation/cloud_vista/linux_setup_v12/#4-configure-rclocal-bold-fonts--change-it-accordingly-for-customer" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 4. Configure rc.local (bold fonts &gt; change it accordingly for customer)" href="#4-configure-rclocal-bold-fonts--change-it-accordingly-for-customer"><svg class="icon link"><use xlink:href="#link"></use></svg></a></h2></div>
<p><code>vi /etc/rc.local</code></p>
<pre tabindex="0"><code>touch /var/lock/subsys/local
systemctl stop firewalld
export NG_LICENSE_BY_MACADDR=1
export IOSS_HOME=/root/netgain
export NETGAIN_SERIAL=NGSG2209001
export EM_MODEL=EM-BASE
export EM_CUSTOMER_NAME=Customer_name
su - root -c &#34;$IOSS_HOME/bin/agent_start.sh&#34;
systemctl start elasticsearch.service
su - root -c &#34;$IOSS_HOME/bin/box.sh&#34;
</code></pre><p>example:</p>
<p><strong>NGSG2209001</strong> should be change to your own serial key</p>
<p>whereas:</p>
<p>NG – NetGain (partner/customer name)
SG – Singapore (country)
22 – 2022 (year)
09 – Sept (month)
001 – running number</p>
<p><strong>EM-BASE-Demo</strong></p>
<p>whereas:</p>
<p>Demo - base model of the license</p>
<div class="gdoc-page__anchorwrap"><h2 id="5-give-full-permission-for-rclocal">5. Give full permission for rc.local<a data-clipboard-text="http://localhost:1313/installation/cloud_vista/linux_setup_v12/#5-give-full-permission-for-rclocal" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 5. Give full permission for rc.local" href="#5-give-full-permission-for-rclocal"><svg class="icon link"><use xlink:href="#link"></use></svg></a></h2></div>
<p><code>chmod +x /etc/rc.d/rc.local</code></p>
<p><code>systemctl enable rc-local</code></p>
<p><code>systemctl start rc-local</code></p>
<div class="gdoc-page__anchorwrap"><h2 id="6-configure-vi-etcsysconfigi18n-for-english-language-during-bootup-process">6. Configure vi /etc/sysconfig/i18n for english language during bootup process<a data-clipboard-text="http://localhost:1313/installation/cloud_vista/linux_setup_v12/#6-configure-vi-etcsysconfigi18n-for-english-language-during-bootup-process" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 6. Configure vi /etc/sysconfig/i18n for english language during bootup process" href="#6-configure-vi-etcsysconfigi18n-for-english-language-during-bootup-process"><svg class="icon link"><use xlink:href="#link"></use></svg></a></h2></div>
<p><code>vi /etc/sysconfig/i18n</code></p>
<pre tabindex="0"><code>LANG=&#34;en_US.UTF-8&#34;  
SYSFONT=&#34;latarcyrheb-sun16&#34;  
SUPPORTED=&#34;en_US.UTF-8:en_US:en&#34;
</code></pre><div class="gdoc-page__anchorwrap"><h2 id="7-change-netgain-application-configuration">7. Change NetGain application configuration<a data-clipboard-text="http://localhost:1313/installation/cloud_vista/linux_setup_v12/#7-change-netgain-application-configuration" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 7. Change NetGain application configuration" href="#7-change-netgain-application-configuration"><svg class="icon link"><use xlink:href="#link"></use></svg></a></h2></div>
<p><code>vi /etc/ng.conf</code></p>
<pre tabindex="0"><code>export SKIP_WDT=1  
export CHARSET=en_US
export MAX_MEM=1000 #change 50 - 70% of your VM total RAM
export NG_LICENSE_BY_MACADDR=1
JAVA_OPTS=&#34;${JAVA_OPTS} -Delk=1&#34;
JAVA_OPTS=&#34;${JAVA_OPTS} -Delasticsearch_ip=127.0.0.1&#34;
</code></pre><div class="gdoc-page__anchorwrap"><h2 id="8-setup-date-and-time">8. Setup Date and Time<a data-clipboard-text="http://localhost:1313/installation/cloud_vista/linux_setup_v12/#8-setup-date-and-time" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 8. Setup Date and Time" href="#8-setup-date-and-time"><svg class="icon link"><use xlink:href="#link"></use></svg></a></h2></div>
<p><code>hwclock --set --date='12/22/2014 14:35'</code></p>
<p><code>date -s &quot;22 December 2014 14:35&quot;</code></p>
<p><code>yum install chrony</code></p>
<p><code>timedatectl set-ntp yes</code></p>
<p><code>service chronyd start</code></p>
<p>(*NTP is another option for auto date and time:  ntpdate pool.ntp.org)</p>
<div class="gdoc-page__anchorwrap"><h2 id="9-check-dns-record">9. Check DNS record<a data-clipboard-text="http://localhost:1313/installation/cloud_vista/linux_setup_v12/#9-check-dns-record" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 9. Check DNS record" href="#9-check-dns-record"><svg class="icon link"><use xlink:href="#link"></use></svg></a></h2></div>
<p><code>vi /etc/resolv.conf</code></p>
<pre tabindex="0"><code>nameserver 8.8.8.8
</code></pre><p>customer DNS should be put after nameserver</p>
<div class="gdoc-page__anchorwrap"><h2 id="10-add-em-process-check-to-cronjob">10. Add EM process check to cronjob<a data-clipboard-text="http://localhost:1313/installation/cloud_vista/linux_setup_v12/#10-add-em-process-check-to-cronjob" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 10. Add EM process check to cronjob" href="#10-add-em-process-check-to-cronjob"><svg class="icon link"><use xlink:href="#link"></use></svg></a></h2></div>
<p><code>crontab -e</code></p>
<pre tabindex="0"><code>#* * * * * /root/netgain/bin/check_box.sh
#*/15 * * * * /root/netgain/bin/ha/standby.sh
10 0 * * * mon sync; echo 3 &gt; /proc/sys/vm/drop_caches
0 6 * * * find /var/log/iossd* -mtime +30 -delete
</code></pre><p>Note: this command is to check if NetGain is inaccessible and it will auto restart the service (remember to remove the # to activate)</p>
<div class="gdoc-page__anchorwrap"><h2 id="11-run-export-ng_license_by_macaddr1">11. Run export NG_LICENSE_BY_MACADDR=1<a data-clipboard-text="http://localhost:1313/installation/cloud_vista/linux_setup_v12/#11-run-export-ng_license_by_macaddr1" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 11. Run export NG_LICENSE_BY_MACADDR=1" href="#11-run-export-ng_license_by_macaddr1"><svg class="icon link"><use xlink:href="#link"></use></svg></a></h2></div>
<p><code>export NG_LICENSE_BY_MACADDR=1</code></p>
<p><code>echo $NG_LICENSE_BY_MACADDR</code></p>
<div class="gdoc-page__anchorwrap"><h2 id="12-get-register-key">12. Get register key<a data-clipboard-text="http://localhost:1313/installation/cloud_vista/linux_setup_v12/#12-get-register-key" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 12. Get register key" href="#12-get-register-key"><svg class="icon link"><use xlink:href="#link"></use></svg></a></h2></div>
<p>Copy paste below output on notepad, save and Email to NetGain team to request for license</p>
<p><code>/root/netgain/bin/run.sh netgain.sac.Register</code></p>
<div class="gdoc-page__anchorwrap"><h2 id="13-to-update-the-license">13. To update the license<a data-clipboard-text="http://localhost:1313/installation/cloud_vista/linux_setup_v12/#13-to-update-the-license" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 13. To update the license" href="#13-to-update-the-license"><svg class="icon link"><use xlink:href="#link"></use></svg></a></h2></div>
<p>Paste the contents of license from NetGain team to license.txt</p>
<p><code>vi /root/netgain/bin/license.txt</code></p>
<div class="gdoc-page__anchorwrap"><h2 id="14-update-with-the-latest-patch">14. Update with the Latest patch<a data-clipboard-text="http://localhost:1313/installation/cloud_vista/linux_setup_v12/#14-update-with-the-latest-patch" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 14. Update with the Latest patch" href="#14-update-with-the-latest-patch"><svg class="icon link"><use xlink:href="#link"></use></svg></a></h2></div>
<p>Please ask NetGain support email for the latest patch file.</p>
<p>Copy the latest patch to /root directory.</p>
<p>** dnf install pinentry (for Rocky Linux 9)</p>
<p><code>gpg -d &lt;patchname&gt;.tar.gz.gpg &gt; &lt;patchname&gt;.tar.gz</code></p>
<p>gpg password: netgain1428117</p>
<p>Untar the patch on &ldquo;/root&rdquo;</p>
<p><code>tar -xzvf &lt;patch filename&gt;.tar.gz</code></p>
<div class="gdoc-page__anchorwrap"><h2 id="15-export-java-path">15. Export JAVA path<a data-clipboard-text="http://localhost:1313/installation/cloud_vista/linux_setup_v12/#15-export-java-path" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 15. Export JAVA path" href="#15-export-java-path"><svg class="icon link"><use xlink:href="#link"></use></svg></a></h2></div>
<p><code>export PATH=/root/netgain/jre/bin:$PATH</code></p>
<p>And need to add this command globally to /etc/profile and /root/.bash_profile and /root/.bashrc</p>
<div class="gdoc-page__anchorwrap"><h2 id="16-update-the-elasticsearch-password-in-config_customize-of-netgain">16. Update the Elasticsearch password in config_customize of NetGain<a data-clipboard-text="http://localhost:1313/installation/cloud_vista/linux_setup_v12/#16-update-the-elasticsearch-password-in-config_customize-of-netgain" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 16. Update the Elasticsearch password in config_customize of NetGain" href="#16-update-the-elasticsearch-password-in-config_customize-of-netgain"><svg class="icon link"><use xlink:href="#link"></use></svg></a></h2></div>
<p><code>vi /root/netgain/conf/admin/config_customize.xml</code></p>
<pre tabindex="0"><code>&lt;config key=&#34;elasticsearch_password&#34; value=&#34;t_uYH54WkAddVJ8qAK9s&#34;/&gt;
</code></pre><div class="gdoc-page__anchorwrap"><h2 id="17-start-netgain-em-process">17. Start NetGain EM process<a data-clipboard-text="http://localhost:1313/installation/cloud_vista/linux_setup_v12/#17-start-netgain-em-process" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 17. Start NetGain EM process" href="#17-start-netgain-em-process"><svg class="icon link"><use xlink:href="#link"></use></svg></a></h2></div>
<p><code>/root/netgain/bin/box.sh</code></p>
<p><code>tail -200f /var/log/iossd.log</code> to check EM process running status</p>
<p><br><br>
Please email NetGain support for further assistance:
<br><a href="mailto:support@netgain-systems.com">support@netgain-systems.com</a></p>


    </article>

                








    
    

    





<div class="gdoc-page__footer flex flex-wrap justify-between">
    
    
</div>

            </div>
        </main>

        <footer class="gdoc-footer">
    <div class="container flex flex-wrap">
        
        <span class="gdoc-footer__item">
            <a href="https://www.netgain-systems.com/terms-of-use/" class="gdoc-footer__link">Terms of Use</a>
        </span>
        
        
        <span class="gdoc-footer__item">
            <a href="https://www.netgain-systems.com/privacy-policy/" class="gdoc-footer__link">Privacy Policy</a>
        </span>
        
    </div>
</footer>

    </div>

    




<script defer src="/js/en.search.min.js"></script>



<script defer src="/js/clipboard.min.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function(event) {
        var clipboard = new ClipboardJS('.clip');
    });
</script>


</body>
</html>
